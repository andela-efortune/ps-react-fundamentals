<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="lib/react.min.js"></script>
  <script src="lib/react-dom.min.js"></script>
  <script src="lib/JSXTransformer.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <title>React Fundamental</title>
</head>
<body>
  <div id="container"></div>

  <!-- <script type="text/jsx" src="script.jsx"></script> -->
  <script type="text/jsx">

  const Cards = React.createClass({
    getInitialState() {
      return {};
    },

    componentDidMount() {
      // let component = this;
      $.get("https://api.github.com/users/" + this.props.login, (data) => {
        this.setState(data);
        // component.setState(data);
      })
    },

    render() {
      return (
        <div>
          <img src={this.state.avatar_url} alt="Github gravatar" width="80px"/>
          <h3>{ this.state.name }</h3>
          <hr/>
        </div>
      );
    }
  });

  const Form = React.createClass({
    render() {
      return (
        <form>
          <input placeholder="Enter Github username"/>
          <button>Add</button>
        </form>
      );
    }
  })

  const Main = React.createClass({
    getInitialState() {
      return { logins: [] }
    },

    render() {
      const cards = this.state.logins.map((login) => {
        return <Cards login={login}/>
      })
      return (
          <div>
            <Form />
            { cards }
          </div>
      );
    }
  });

  ReactDOM.render(<Main />, document.getElementById('container'));

  </script>
</body>
</html>
